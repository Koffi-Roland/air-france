*** Settings ***
Test Setup        Before
Test Teardown     After
Force Tags        REPIND-1225
Library           DatabaseLibrary
Library           OperatingSystem
Library           Collections
Library           SudsLibrary
Library           XML
Library           BuiltIn
Resource          %{SIC_RESOURCES}/variables.robot
Resource          %{SIC_RESOURCES}/dataBase.robot
Resource          %{SIC_RESOURCES}/provideIndividualData.robot
Resource          %{SIC_RESOURCES}/enrollMyAccountCustomer.robot
Resource          %{SIC_RESOURCES}/createIndividual.robot
Resource          %{SIC_RESOURCES}/createOrUpdateRoleContract.robot

*** Variables ***
${ENV}            rc2
${DB_CONNECT_STRING}    ${DB_CONNECT_STRING_RC2}
${GLOBALGIN}      ${EMPTY}

*** Test Cases ***
Verify ws CreateOrUpdateAnIndividualV8 creates valid HDC Preference
    #HDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 12

Verify ws CreateOrUpdateAnIndividualV8 creates valid PIC Preference
    #PIC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='PIC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='PIC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 3

Verify ws CreateOrUpdateAnIndividualV8 creates valid TCC Preference
    #TCC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TCC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TCC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 8

Verify ws CreateOrUpdateAnIndividualV8 creates valid TPC Preference
    #TPC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>10</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>salt</value></preferenceData><preferenceData><key>seat</key><value>w</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TPC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TPC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 9

Verify ws CreateOrUpdateAnIndividualV8 creates valid ECC Preference
    #ECC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='ECC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='ECC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 4

Verify ws CreateOrUpdateAnIndividualV8 creates valid APC Preference
    #APC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>KNOWNTRAVELERNUMBER</key><value>50</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='APC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='APC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 6

Verify ws CreateOrUpdateAnIndividualV8 creates valid TDC Preference
    #TDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 8

Verify ws CreateOrUpdateAnIndividualV7 creates valid HDC Preference
    #HDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><handicap><codeHCP1>WCHR</codeHCP1><codeHCP2>WCHR</codeHCP2><codeHCP3>WCHR</codeHCP3><medaCCFlag>Y</medaCCFlag><medaCCDateStart>2018-07-04T12:00:00</medaCCDateStart><medaCCDateEnd>2018-07-04T12:00:00</medaCCDateEnd><medaCCAccomp>A</medaCCAccomp><medaCCTxt>Test</medaCCTxt><medaMCFlag>Y</medaMCFlag><medaMCDateStart>2018-07-04T12:00:00</medaMCDateStart><medaMCDateEnd>2018-07-04T12:00:00</medaMCDateEnd><medaMCAccomp>A</medaMCAccomp><medaMCTxt>Test</medaMCTxt><medaLCFlag>Y</medaLCFlag><medaLCDateStart>2018-07-04T12:00:00</medaLCDateStart><medaLCDateEnd>2018-07-04T12:00:00</medaLCDateEnd><medaLCAccomp>A</medaLCAccomp><medaLCTxt>Test</medaLCTxt><codeMat1>WCMP</codeMat1><length1>100</length1><width1>100</width1><height1>100</height1><lengthPlie1>100</lengthPlie1><widthPlie1>100</widthPlie1><heightPlie1>100</heightPlie1><weight1>100</weight1><codeMat2>WCMP</codeMat2><length2>100</length2><width2>100</width2><height2>100</height2><lengthPlie2>100</lengthPlie2><widthPlie2>100</widthPlie2><heightPlie2>100</heightPlie2><weight2>100</weight2><otherMat>TT</otherMat><dogGuideFlag>Y</dogGuideFlag><dogGuideBreed>Labrador</dogGuideBreed><dogGuideWeight>15</dogGuideWeight><oxygFlag>Y</oxygFlag><oxygOutput>10</oxygOutput></handicap></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 40

Verify ws CreateOrUpdateAnIndividualV7 creates valid PIC Preference
    #PIC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><personalInformation><blueBizNumber>10000000</blueBizNumber><fFPNumber>150</fFPNumber><fFPProgram>150</fFPProgram></personalInformation></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='PIC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='PIC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 3

Verify ws CreateOrUpdateAnIndividualV7 creates valid TCC Preference
    #TCC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><travelCompanion><civility>MR</civility><firstName>Test</firstName><lastName>Test</lastName><dateOfBirth>2014-07-16T12:00:00</dateOfBirth><email>Test@gmail.com</email><personalInformation><blueBizNumber>10000000</blueBizNumber><fFPNumber>150</fFPNumber><fFPProgram>150</fFPProgram></personalInformation></travelCompanion></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TCC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TCC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 8

Verify ws CreateOrUpdateAnIndividualV7 creates valid TPC Preference
    #TPC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><travelPreferences><departureCity>NCE</departureCity><departureAirport>NCE</departureAirport><arrivalCity>NCE</arrivalCity><arrivalAirport>NCE</arrivalAirport><meal>SALT</meal><seat>W</seat><travelClass>E</travelClass><boardingPass>AA</boardingPass><customerLeisure>Test</customerLeisure></travelPreferences></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TPC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TPC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 9

Verify ws CreateOrUpdateAnIndividualV7 creates valid ECC Preference
    #ECC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><emergencyContact><email>test@gmail.com</email><phoneNumber>0123456</phoneNumber><lastName>Test</lastName><firstName>Test</firstName></emergencyContact></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='ECC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='ECC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 4

Verify ws CreateOrUpdateAnIndividualV7 creates valid APC Preference
    #APC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><apisData><lastName>Test</lastName><firstName>Test</firstName><dateOfBirth>1980-08-06T12:00:00</dateOfBirth><gender>M</gender><redressControlNumber>90</redressControlNumber></apisData></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='APC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='APC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 5

Verify ws CreateOrUpdateAnIndividualV7 creates valid TDC Preference
    #TDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><travelDocument><type>PA</type><number>11000</number><expirationDate>2023-04-26T12:00:00</expirationDate><nationality>FR</nationality><issueDate>2018-07-04T12:00:00</issueDate><countryIssued>FR</countryIssued></travelDocument></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 8

Verify ws CreateOrUpdateAnIndividualV6 creates valid HDC Preference
    #HDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><handicap><codeHCP1>WCHR</codeHCP1><codeHCP2>WCHR</codeHCP2><codeHCP3>WCHR</codeHCP3><medaCCFlag>Y</medaCCFlag><medaCCDateStart>2018-07-04T12:00:00</medaCCDateStart><medaCCDateEnd>2018-07-04T12:00:00</medaCCDateEnd><medaCCAccomp>A</medaCCAccomp><medaCCTxt>Test</medaCCTxt><medaMCFlag>Y</medaMCFlag><medaMCDateStart>2018-07-04T12:00:00</medaMCDateStart><medaMCDateEnd>2018-07-04T12:00:00</medaMCDateEnd><medaMCAccomp>A</medaMCAccomp><medaMCTxt>Test</medaMCTxt><medaLCFlag>Y</medaLCFlag><medaLCDateStart>2018-07-04T12:00:00</medaLCDateStart><medaLCDateEnd>2018-07-04T12:00:00</medaLCDateEnd><medaLCAccomp>A</medaLCAccomp><medaLCTxt>Test</medaLCTxt><codeMat1>WCMP</codeMat1><length1>100</length1><width1>100</width1><height1>100</height1><lengthPlie1>100</lengthPlie1><widthPlie1>100</widthPlie1><heightPlie1>100</heightPlie1><weight1>100</weight1><codeMat2>WCMP</codeMat2><length2>100</length2><width2>100</width2><height2>100</height2><lengthPlie2>100</lengthPlie2><widthPlie2>100</widthPlie2><heightPlie2>100</heightPlie2><weight2>100</weight2><otherMat>TT</otherMat><dogGuideFlag>Y</dogGuideFlag><dogGuideBreed>Labrador</dogGuideBreed><dogGuideWeight>15</dogGuideWeight><oxygFlag>Y</oxygFlag><oxygOutput>10</oxygOutput></handicap></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 40

Verify ws CreateOrUpdateAnIndividualV6 creates valid PIC Preference
    #PIC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><personalInformation><blueBizNumber>10000000</blueBizNumber><fFPNumber>150</fFPNumber><fFPProgram>150</fFPProgram></personalInformation></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='PIC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='PIC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 3

Verify ws CreateOrUpdateAnIndividualV6 creates valid TCC Preference
    #TCC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><travelCompanion><civility>MR</civility><firstName>Test</firstName><lastName>Test</lastName><dateOfBirth>2014-07-16T12:00:00</dateOfBirth><email>Test@gmail.com</email><personalInformation><blueBizNumber>10000000</blueBizNumber><fFPNumber>150</fFPNumber><fFPProgram>150</fFPProgram></personalInformation></travelCompanion></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TCC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TCC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 8

Verify ws CreateOrUpdateAnIndividualV6 creates valid TPC Preference
    #TPC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><travelPreferences><departureCity>NCE</departureCity><departureAirport>NCE</departureAirport><arrivalCity>NCE</arrivalCity><arrivalAirport>NCE</arrivalAirport><meal>SALT</meal><seat>W</seat><travelClass>E</travelClass><boardingPass>AA</boardingPass><customerLeisure>Test</customerLeisure></travelPreferences></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TPC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TPC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 9

Verify ws CreateOrUpdateAnIndividualV6 creates valid ECC Preference
    #ECC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><emergencyContact><email>test@gmail.com</email><phoneNumber>0123456</phoneNumber><lastName>Test</lastName><firstName>Test</firstName></emergencyContact></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='ECC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='ECC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 4

Verify ws CreateOrUpdateAnIndividualV6 creates valid APC Preference
    #APC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><apisData><lastName>Test</lastName><firstName>Test</firstName><dateOfBirth>1980-08-06T12:00:00</dateOfBirth><gender>M</gender><redressControlNumber>90</redressControlNumber></apisData></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='APC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='APC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 5

Verify ws CreateOrUpdateAnIndividualV6 creates valid TDC Preference
    #TDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><travelDocument><type>PA</type><number>11000</number><expirationDate>2023-04-26T12:00:00</expirationDate><nationality>FR</nationality><issueDate>2018-07-04T12:00:00</issueDate><countryIssued>FR</countryIssued></travelDocument></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='TDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 8

Verify ws CreateOrUpdateAnIndividualV8 updates valid HDC Preference
    #HDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 12
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 1

Verify ws CreateOrUpdateAnIndividualV7 updates valid HDC Preference
    #HDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><handicap><codeHCP1>WCHR</codeHCP1><codeHCP2>WCHR</codeHCP2><codeHCP3>WCHR</codeHCP3><medaCCFlag>Y</medaCCFlag><medaCCDateStart>2018-07-04T12:00:00</medaCCDateStart><medaCCDateEnd>2018-07-04T12:00:00</medaCCDateEnd><medaCCAccomp>A</medaCCAccomp><medaCCTxt>Test</medaCCTxt><medaMCFlag>Y</medaMCFlag><medaMCDateStart>2018-07-04T12:00:00</medaMCDateStart><medaMCDateEnd>2018-07-04T12:00:00</medaMCDateEnd><medaMCAccomp>A</medaMCAccomp><medaMCTxt>Test</medaMCTxt><medaLCFlag>Y</medaLCFlag><medaLCDateStart>2018-07-04T12:00:00</medaLCDateStart><medaLCDateEnd>2018-07-04T12:00:00</medaLCDateEnd><medaLCAccomp>A</medaLCAccomp><medaLCTxt>Test</medaLCTxt><codeMat1>WCMP</codeMat1><length1>100</length1><width1>100</width1><height1>100</height1><lengthPlie1>100</lengthPlie1><widthPlie1>100</widthPlie1><heightPlie1>100</heightPlie1><weight1>100</weight1><codeMat2>WCMP</codeMat2><length2>100</length2><width2>100</width2><height2>100</height2><lengthPlie2>100</lengthPlie2><widthPlie2>100</widthPlie2><heightPlie2>100</heightPlie2><weight2>100</weight2><otherMat>TT</otherMat><dogGuideFlag>Y</dogGuideFlag><dogGuideBreed>Labrador</dogGuideBreed><dogGuideWeight>15</dogGuideWeight><oxygFlag>Y</oxygFlag><oxygOutput>10</oxygOutput></handicap></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 40
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><handicap><codeHCP1>WCHR</codeHCP1></handicap></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v7    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 1

Verify ws CreateOrUpdateAnIndividualV6 updates valid HDC Preference
    #HDC must be retreived by the ProvideV7
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><handicap><codeHCP1>WCHR</codeHCP1><codeHCP2>WCHR</codeHCP2><codeHCP3>WCHR</codeHCP3><medaCCFlag>Y</medaCCFlag><medaCCDateStart>2018-07-04T12:00:00</medaCCDateStart><medaCCDateEnd>2018-07-04T12:00:00</medaCCDateEnd><medaCCAccomp>A</medaCCAccomp><medaCCTxt>Test</medaCCTxt><medaMCFlag>Y</medaMCFlag><medaMCDateStart>2018-07-04T12:00:00</medaMCDateStart><medaMCDateEnd>2018-07-04T12:00:00</medaMCDateEnd><medaMCAccomp>A</medaMCAccomp><medaMCTxt>Test</medaMCTxt><medaLCFlag>Y</medaLCFlag><medaLCDateStart>2018-07-04T12:00:00</medaLCDateStart><medaLCDateEnd>2018-07-04T12:00:00</medaLCDateEnd><medaLCAccomp>A</medaLCAccomp><medaLCTxt>Test</medaLCTxt><codeMat1>WCMP</codeMat1><length1>100</length1><width1>100</width1><height1>100</height1><lengthPlie1>100</lengthPlie1><widthPlie1>100</widthPlie1><heightPlie1>100</heightPlie1><weight1>100</weight1><codeMat2>WCMP</codeMat2><length2>100</length2><width2>100</width2><height2>100</height2><lengthPlie2>100</lengthPlie2><widthPlie2>100</widthPlie2><heightPlie2>100</heightPlie2><weight2>100</weight2><otherMat>TT</otherMat><dogGuideFlag>Y</dogGuideFlag><dogGuideBreed>Labrador</dogGuideBreed><dogGuideWeight>15</dogGuideWeight><oxygFlag>Y</oxygFlag><oxygOutput>10</oxygOutput></handicap></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 40
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><marketingDataRequest><marketingInformation><handicap><codeHCP1>WCHR</codeHCP1></handicap></marketingInformation></marketingDataRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v6    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']
    Should Be True    ${preference} == 1
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference[type='HDC']/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} == 1

Verify ws ProvideIndividualDataV7 - Scope PREFERENCE
    #ProvideV7 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>10</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>salt</value></preferenceData><preferenceData><key>seat</key><value>w</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference
    Should Be True    ${preference} > 6
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} > 76
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV7 - Scope MARKETING
    #ProvideV7 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>10</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>salt</value></preferenceData><preferenceData><key>seat</key><value>w</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>MARKETING</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference
    Should Be True    ${preference} > 6
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} > 76
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV7 - Scope ALL
    #ProvideV7 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>10</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>salt</value></preferenceData><preferenceData><key>seat</key><value>w</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>ALL</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v7    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${preference}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference
    Should Be True    ${preference} > 6
    ${preferenceData}=    Get Element Count    ${XML_object}    xpath=.//preferenceResponse/preference/preferenceDatas/preferenceData
    Should Be True    ${preferenceData} > 76
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV6 - Scope PREFERENCE
    #ProvideV6 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>AA</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>SALT</value></preferenceData><preferenceData><key>seat</key><value>W</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v6    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${travelDocument}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelDocument/*
    Should Be True    ${travelDocument} > 0
    ${emergencyContact}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/emergencyContact/*
    Should Be True    ${emergencyContact} > 0
    ${travelPreferences}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelPreferences/*
    Should Be True    ${travelPreferences} > 0
    ${handicap}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/handicap/*
    Should Be True    ${handicap} > 0
    ${apisData}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/apisData/*
    Should Be True    ${apisData} > 0
    ${travelCompanion}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/*
    Should Be True    ${travelCompanion} > 0
    ${travelCompanionInfo}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/personalInformation/*
    Should Be True    ${travelCompanionInfo} > 0
    ${personalInformation}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/personalInformation/*
    Should Be True    ${personalInformation} > 0
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV6 - Scope MARKETING
    #ProvideV6 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>AA</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>SALT</value></preferenceData><preferenceData><key>seat</key><value>W</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>MARKETING</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v6    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${travelDocument}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelDocument/*
    Should Be True    ${travelDocument} > 0
    ${emergencyContact}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/emergencyContact/*
    Should Be True    ${emergencyContact} > 0
    ${travelPreferences}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelPreferences/*
    Should Be True    ${travelPreferences} > 0
    ${handicap}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/handicap/*
    Should Be True    ${handicap} > 0
    ${apisData}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/apisData/*
    Should Be True    ${apisData} > 0
    ${travelCompanion}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/*
    Should Be True    ${travelCompanion} > 0
    ${travelCompanionInfo}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/personalInformation/*
    Should Be True    ${travelCompanionInfo} > 0
    ${personalInformation}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/personalInformation/*
    Should Be True    ${personalInformation} > 0
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV6 - Scope ALL
    #ProvideV6 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>AA</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>SALT</value></preferenceData><preferenceData><key>seat</key><value>W</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>ALL</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v6    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${travelDocument}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelDocument/*
    Should Be True    ${travelDocument} > 0
    ${emergencyContact}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/emergencyContact/*
    Should Be True    ${emergencyContact} > 0
    ${travelPreferences}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelPreferences/*
    Should Be True    ${travelPreferences} > 0
    ${handicap}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/handicap/*
    Should Be True    ${handicap} > 0
    ${apisData}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/apisData/*
    Should Be True    ${apisData} > 0
    ${travelCompanion}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/*
    Should Be True    ${travelCompanion} > 0
    ${travelCompanionInfo}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/personalInformation/*
    Should Be True    ${travelCompanionInfo} > 0
    ${personalInformation}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/personalInformation/*
    Should Be True    ${personalInformation} > 0
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV5 - Scope PREFERENCE
    #ProvideV5 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>AA</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>SALT</value></preferenceData><preferenceData><key>seat</key><value>W</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>PREFERENCE</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v5    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${travelDocument}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelDocument/*
    Should Be True    ${travelDocument} > 0
    ${emergencyContact}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/emergencyContact/*
    Should Be True    ${emergencyContact} > 0
    ${travelPreferences}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelPreferences/*
    Should Be True    ${travelPreferences} > 0
    ${handicap}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/handicap/*
    Should Be True    ${handicap} > 0
    ${apisData}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/apisData/*
    Should Be True    ${apisData} > 0
    ${travelCompanion}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/*
    Should Be True    ${travelCompanion} > 0
    ${travelCompanionInfo}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/personalInformation/*
    Should Be True    ${travelCompanionInfo} > 0
    ${personalInformation}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/personalInformation/*
    Should Be True    ${personalInformation} > 0
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV5 - Scope MARKETING
    #ProvideV5 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>AA</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>SALT</value></preferenceData><preferenceData><key>seat</key><value>W</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>MARKETING</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v5    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${travelDocument}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelDocument/*
    Should Be True    ${travelDocument} > 0
    ${emergencyContact}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/emergencyContact/*
    Should Be True    ${emergencyContact} > 0
    ${travelPreferences}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelPreferences/*
    Should Be True    ${travelPreferences} > 0
    ${handicap}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/handicap/*
    Should Be True    ${handicap} > 0
    ${apisData}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/apisData/*
    Should Be True    ${apisData} > 0
    ${travelCompanion}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/*
    Should Be True    ${travelCompanion} > 0
    ${travelCompanionInfo}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/personalInformation/*
    Should Be True    ${travelCompanionInfo} > 0
    ${personalInformation}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/personalInformation/*
    Should Be True    ${personalInformation} > 0
    sleep    1s    #prevent sax parse exception

Verify ws ProvideIndividualDataV5 - Scope ALL
    #ProvideV5 must be able to retreived all Preferences
    ${body} =    Convert To String    <afk0:CreateUpdateIndividualRequestElement><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor><individualRequest><individualInformations><identifier>${GLOBALGIN}</identifier></individualInformations></individualRequest><preferenceRequest><preference><type>HDC</type><preferenceDatas><preferenceData><key>codeHCP1</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP2</key><value>WCHR</value></preferenceData><preferenceData><key>codeHCP3</key><value>WCHR</value></preferenceData><preferenceData><key>codeMat1</key><value>WCMP</value></preferenceData><preferenceData><key>codeMat2</key><value>WCMP</value></preferenceData><preferenceData><key>dogGuideBreed</key><value>Labrador</value></preferenceData><preferenceData><key>dogGuideFlag</key><value>Y</value></preferenceData><preferenceData><key>dogGuideWeight</key><value>15</value></preferenceData><preferenceData><key>height1</key><value>100</value></preferenceData><preferenceData><key>height2</key><value>100</value></preferenceData><preferenceData><key>heightPlie1</key><value>100</value></preferenceData><preferenceData><key>heightPlie2</key><value>100</value></preferenceData><preferenceData><key>length1</key><value>10</value></preferenceData><preferenceData><key>length2</key><value>10</value></preferenceData><preferenceData><key>lengthPlie1</key><value>10</value></preferenceData><preferenceData><key>lengthPlie2</key><value>10</value></preferenceData><preferenceData><key>medaCCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaCCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaCCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaCCFlag</key><value>F</value></preferenceData><preferenceData><key>medaCCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaLCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaLCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaLCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaLCFlag</key><value>F</value></preferenceData><preferenceData><key>medaLCTxt</key><value>Text</value></preferenceData><preferenceData><key>medaMCAccomp</key><value>A</value></preferenceData><preferenceData><key>medaMCDateEnd</key><value>01/01/2019</value></preferenceData><preferenceData><key>medaMCDateStart</key><value>01/01/2018</value></preferenceData><preferenceData><key>medaMCFlag</key><value>F</value></preferenceData><preferenceData><key>medaMCTxt</key><value>Text</value></preferenceData><preferenceData><key>otherMat</key><value>aa</value></preferenceData><preferenceData><key>oxygFlag</key><value>y</value></preferenceData><preferenceData><key>oxygOutput</key><value>10</value></preferenceData><preferenceData><key>weight1</key><value>10</value></preferenceData><preferenceData><key>weight2</key><value>10</value></preferenceData><preferenceData><key>width1</key><value>10</value></preferenceData><preferenceData><key>width2</key><value>10</value></preferenceData><preferenceData><key>widthPlie1</key><value>10</value></preferenceData><preferenceData><key>widthPlie2</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>PIC</type><preferenceDatas><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>100</value></preferenceData><preferenceData><key>FFPProgram</key><value>100</value></preferenceData></preferenceDatas></preference><preference><type>TCC</type><preferenceDatas><preferenceData><key>civility</key><value>MR</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/10/1980</value></preferenceData><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>bluebizNumber</key><value>10000000</value></preferenceData><preferenceData><key>FFPNumber</key><value>10</value></preferenceData><preferenceData><key>FFPProgram</key><value>10</value></preferenceData></preferenceDatas></preference><preference><type>TPC</type><preferenceDatas><preferenceData><key>arrivalAirport</key><value>NCE</value></preferenceData><preferenceData><key>arrivalCity</key><value>NCE</value></preferenceData><preferenceData><key>boardingPass</key><value>AA</value></preferenceData><preferenceData><key>customerLeisure</key><value>Test</value></preferenceData><preferenceData><key>departureAirport</key><value>NCE</value></preferenceData><preferenceData><key>departureCity</key><value>NCE</value></preferenceData><preferenceData><key>meal</key><value>SALT</value></preferenceData><preferenceData><key>seat</key><value>W</value></preferenceData><preferenceData><key>travelClass</key><value>E</value></preferenceData></preferenceDatas></preference><preference><type>ECC</type><preferenceDatas><preferenceData><key>email</key><value>test@af.com</value></preferenceData><preferenceData><key>firstName</key><value>Test</value></preferenceData><preferenceData><key>lastName</key><value>Test</value></preferenceData><preferenceData><key>phoneNumber</key><value>0123456</value></preferenceData></preferenceDatas></preference><preference><type>APC</type><preferenceDatas><preferenceData><key>givenNames</key><value>Test</value></preferenceData><preferenceData><key>familyName</key><value>Test</value></preferenceData><preferenceData><key>dateOfBirth</key><value>01/01/1980</value></preferenceData><preferenceData><key>gender</key><value>M</value></preferenceData><preferenceData><key>redressControlNumber</key><value>90</value></preferenceData></preferenceDatas></preference><preference><type>TDC</type><preferenceDatas><preferenceData><key>type</key><value>PA</value></preferenceData><preferenceData><key>number</key><value>1000</value></preferenceData><preferenceData><key>expiryDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>nationality</key><value>FR</value></preferenceData><preferenceData><key>issueDate</key><value>01/01/2020</value></preferenceData><preferenceData><key>countryOfIssue</key><value>FR</value></preferenceData><preferenceData><key>touchpoint</key><value>TT</value></preferenceData><preferenceData><key>authorizationDate</key><value>01/01/2020</value></preferenceData></preferenceDatas></preference></preferenceRequest></afk0:CreateUpdateIndividualRequestElement>
    ${response} =    CreateUpdateIndividualService-v8    ${ENV}    ${body}
    Element Should Exist    ${response}    xpath=.//success
    Element Text Should Be    ${response}    true    xpath=.//success
    ${body} =    Convert To String    <afk0:ProvideIndividualInformationRequestElement><identificationNumber>${GLOBALGIN}</identificationNumber><option>GIN</option><scopeToProvide>ALL</scopeToProvide><requestor><channel>B2C</channel><site>QVI</site><signature>${SIGNATURE}</signature></requestor></afk0:ProvideIndividualInformationRequestElement>
    ${response} =    ProvideIndividualDataService-v5    ${ENV}    ${body}
    ${XML_object}=    Parse XML    ${response}
    ${travelDocument}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelDocument/*
    Should Be True    ${travelDocument} > 0
    ${emergencyContact}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/emergencyContact/*
    Should Be True    ${emergencyContact} > 0
    ${travelPreferences}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelPreferences/*
    Should Be True    ${travelPreferences} > 0
    ${handicap}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/handicap/*
    Should Be True    ${handicap} > 0
    ${apisData}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/apisData/*
    Should Be True    ${apisData} > 0
    ${travelCompanion}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/*
    Should Be True    ${travelCompanion} > 0
    ${travelCompanionInfo}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/travelCompanion/personalInformation/*
    Should Be True    ${travelCompanionInfo} > 0
    ${personalInformation}=    Get Element Count    ${XML_object}    xpath=.//marketingDataResponse/marketingInformation/personalInformation/*
    Should Be True    ${personalInformation} > 0
    sleep    1s    #prevent sax parse exception

*** Keywords ***
Before
    CleanDatabase    ${DB_CONNECT_STRING}
    #enroll v2 - create individual
    ${body} =    Convert To String    <afk0:EnrollMyAccountCustomerRequestElement><civility>MR</civility><firstName>BDM</firstName><lastName>Preferences</lastName><emailIdentifier>bdmigration@robotframework.com</emailIdentifier><password>Robot2018</password><languageCode>FR</languageCode><website>AF</website><pointOfSale>FR</pointOfSale><optIn>false</optIn><directFBEnroll>false</directFBEnroll><signatureLight><site>QVI</site><signature>ROBOTFRAMEWORK</signature><ipAddress>localhost</ipAddress></signatureLight></afk0:EnrollMyAccountCustomerRequestElement>
    ${resultGIN} =    EnrollMyAccountCustomerService-v2-ReturnGin    ${ENV}    ${body}
    Set global variable    ${GLOBALGIN}    ${resultGIN}
    sleep    1s    #prevent sax parse exception

After
    Clean database after

Clean database after
    Clean Database By Gin    ${DB_CONNECT_STRING}    ${GLOBALGIN}
