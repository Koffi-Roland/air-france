<mat-stepper [linear]="true" #stepper>
  <!-- STEP 1 -->
  <mat-step [completed]="!!dataSourceAdhoc?.length" [editable]="!dataSourceAdhoc?.length">
    <ng-template matStepLabel>{{ 'LOAD-EXCEL' | translate }}</ng-template>
    <div class="flex h-full text-center">
      <div class="w-1/3"></div>
      <div class="w-1/3 p-1 pt-[10%] h-full text-center items-center" >
        <mat-card class="text-center items-center h-24 pt-[25px] cursor-pointer mat-card-custom" (click)="loadAdhoc()">
          <mat-icon> file_download </mat-icon>
          <mat-card-content>{{ 'LOAD-EXCEL' | translate }}</mat-card-content>
        </mat-card>
      </div>

    </div>
  </mat-step>
  <!-- STEP 2 -->
  <mat-step [completed]="!!dataSourceAdhoc?.length && confirmUpload"
            [editable]="!!dataSourceAdhoc?.length && !confirmUpload">
    <ng-template matStepLabel>{{ 'EDIT-EXCEL' | translate }}</ng-template>
    <div class="flex">
      <div class="w-1/3 text-left">
        <button mat-raised-button  (click)="reloadAdhoc()">{{ 'RELOAD-EXCEL' | translate }}</button>
      </div>
      <div class="w-1/3 pt-2 text-center">
        <span>{{ (dataSourceInvalidAdhoc?.length ? 'INVALID-DATA-ADHOC-MESSAGE' : 'VALID-DATA-ADHOC-MESSAGE') | translate}}</span>
      </div>
      <div class="w-1/3 text-right">
        <button mat-raised-button  (click)="goToUploadStep()">{{'UPLOAD' | translate}}</button>
      </div>
    </div>
    <ng-container *ngIf="dataSourceInvalidAdhoc?.length">
      <div>
        <app-adhoc-table
          [airline]="currentAirline"
          [isInvalidTable]="true"
          [adhocReferences]="adhocReferences"
          [dataSource]="dataSourceInvalidAdhoc"
          [refreshAction$]="refreshInvalidActionSource$">
        </app-adhoc-table>
      </div>
    </ng-container>
    <div class="pt-1" *ngIf="dataSourceAdhoc">
      <app-adhoc-table
        [airline]="currentAirline"
        [adhocReferences]="adhocReferences"
        [dataSource]="dataSourceAdhoc"
        [refreshAction$]="refreshValidActionSource$">
      </app-adhoc-table>
    </div>
  </mat-step>
  <!-- STEP 3 -->
  <mat-step>
    <ng-template matStepLabel>{{ 'CONFIRM-UPLOAD' | translate }}</ng-template>
    <div class="flex h-full text-center">
      <div class="w-1/3"></div>
      <div class="w-1/3">
        <div class="flex-col p-1 pt-[10%] h-full">
          <div class="flex">
            <div class="w-1/2">
              <mat-card class="text-center items-center cursor-pointer mat-card-custom" (click)="reloadAdhoc(true)">
                <mat-card-content>{{ 'RELOAD-EXCEL' | translate }}</mat-card-content>
              </mat-card>
            </div>
            <div class="w-1/2">
              <mat-card class="text-center items-center cursor-pointer mat-card-custom" (click)="goToUploadStep(true)">
                <mat-card-content>{{ 'EDIT-EXCEL' | translate }}</mat-card-content>
              </mat-card>
            </div>
          </div>
          <div>
            <mat-card  class="text-center items-center h-24 pt-[25px] cursor-pointer mat-card-custom" (click)="uploadConfirm()">
              <mat-icon> cloud_upload </mat-icon>
              <mat-card-content>{{ 'CONFIRM-UPLOAD' | translate }}</mat-card-content>
            </mat-card>
          </div>
        </div>

      </div>
    </div>
  </mat-step>
</mat-stepper>
